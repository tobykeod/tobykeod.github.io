{"version":3,"sources":["webpack:///./src/pages/page-2.js"],"names":["HeadList","props","listItems","numbers","map","number","index","key","NumberList","sum","SalList","cals","pre_numbers","new_numbers","concat","forEach","subsum","length","average","prefix","cal","Math","round","push","SecondPage","state","show_pre","handleInputChange","event","target","value","name","setState","split","handleSubmit","preventDefault","console","log","toggleShow","innerHTML","render","title","onSubmit","this","style","marginBottom","type","onChange","width","href","onClick","textDecoration","marginRight","maxWidth","to","React","Component"],"mappings":"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","file":"component---src-pages-page-2-js-3eed08a363ed47681b7e.js","sourcesContent":["import React from \"react\"\r\nimport { Link } from \"gatsby\"\r\n\r\nimport Layout from \"../components/layout\"\r\nimport SEO from \"../components/seo\"\r\n\r\nfunction HeadList(props) {\r\n  const numbers = props.numbers;\r\n  const listItems = numbers.map((number, index) => {\r\n    return <td key={index}>{index + 1}</td>;\r\n  });\r\n  return (\r\n    <tr>\r\n      <th>{}</th>\r\n      {listItems}\r\n      <td>{}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nfunction NumberList(props) {\r\n  const numbers = props.numbers;\r\n  let sum = 0;\r\n  const listItems = numbers.map((number, index) => {\r\n    number = number | 0;\r\n    sum += number;\r\n    return <td key={index}>{number}</td>;\r\n  });\r\n  return (\r\n    <tr>\r\n      <th>E</th>\r\n      {listItems}\r\n      <td>{sum}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nfunction SalList(props) {\r\n  const numbers = props.numbers;\r\n  let cals = [];\r\n  let sum = 0;\r\n\r\n  let pre_numbers = props.pre_numbers;\r\n  let new_numbers = pre_numbers.concat(numbers);\r\n\r\n  numbers.forEach((number, index) => {\r\n    let subsum = 0;\r\n    subsum += new_numbers[index + pre_numbers.length - 1] | 0;\r\n    subsum += new_numbers[index + pre_numbers.length - 2] | 0;\r\n    subsum += new_numbers[index + pre_numbers.length - 3] | 0;\r\n    \r\n    let average = subsum / 3;\r\n    let prefix = 0;\r\n    \r\n    number = number | 0;\r\n    if (number < 0) {\r\n      prefix = 0;\r\n    } else if (number < 2000) {\r\n      prefix = 0.1;\r\n    } else {\r\n      prefix = 0.2;\r\n\r\n      switch (true) {\r\n        case (average < 2000):\r\n          // console.log('below 2000');\r\n          break;\r\n        case (average < 5000):\r\n          prefix += average / 1000 * 0.05;\r\n          break;\r\n        case (average < 40000):\r\n          prefix = 0.45;\r\n          prefix += (average - 5000) / 20000;\r\n          break;\r\n        case (average < 50000):\r\n          prefix = 2.2;\r\n          prefix += (average - 40000) / 40000;\r\n          break;\r\n        default:\r\n          // console.log('over 50000');\r\n          prefix = 2.45;\r\n          break;\r\n      }\r\n    }\r\n\r\n    let cal = Math.round(number * prefix);\r\n    cals.push(<td key={index}>{cal}</td>);\r\n    sum += cal;\r\n  });\r\n\r\n  return (\r\n    <tr>\r\n      <td>S</td>\r\n      {cals}\r\n      <td>{sum}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default class SecondPage extends React.Component {\r\n  state = {\r\n    numbers: [2000, 5000, 10000],\r\n    pre_numbers: [],\r\n    show_pre: false\r\n  }\r\n\r\n  handleInputChange = event => {\r\n    const target = event.target\r\n    const value = target.value\r\n    const name = target.name\r\n\r\n    this.setState({\r\n      [name]: value.split(\",\")\r\n    })\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    console.log(this.state.numbers);\r\n  }\r\n\r\n  toggleShow = event => {\r\n    event.preventDefault()\r\n    \r\n    this.setState({\r\n      \"show_pre\": !this.state.show_pre\r\n    })\r\n\r\n    if (this.state.show_pre) {\r\n      event.target.innerHTML = \"+\"\r\n    } else {\r\n      event.target.innerHTML = \"-\"\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <SEO title=\"Page two\" />\r\n        <h1>Hi from the second page</h1>\r\n        <p>Welcome to page 2</p>\r\n\r\n        <form onSubmit={this.handleSubmit} style={{ marginBottom: \"0\" }}>\r\n          <div style={{ marginBottom: \"15px\" }}>\r\n            {/* Data: */}\r\n            <input\r\n              type=\"text\"\r\n              name=\"numbers\"\r\n              value={this.state.numbers}\r\n              onChange={this.handleInputChange}\r\n              style={{ width: \"100%\" }}\r\n            />\r\n          </div>\r\n          {/* <button type=\"submit\">Update</button> */}\r\n          <a \r\n            href=\"/#\"\r\n            onClick={this.toggleShow}\r\n            style={{ textDecoration: \"none\", marginRight: \"10px\" }}\r\n          >\r\n            +\r\n          </a>\r\n          {this.state.show_pre &&\r\n            <label style={{ marginBottom: \"10px\" }}>\r\n              <input\r\n                type=\"text\"\r\n                name=\"pre_numbers\"\r\n                value={this.state.pre_numbers}\r\n                onChange={this.handleInputChange}\r\n                style={{ maxWidth: \"200px\", marginBottom: \"10px\" }}\r\n              />\r\n            </label>\r\n          }\r\n        </form>\r\n\r\n        <table style={{ marginBottom: \"60px\" }}>\r\n          <thead>\r\n            <HeadList numbers={this.state.numbers} />\r\n          </thead>\r\n          <tbody>\r\n            <NumberList numbers={this.state.numbers} />\r\n            <SalList numbers={this.state.numbers} pre_numbers={this.state.pre_numbers} />\r\n          </tbody>\r\n        </table>\r\n\r\n        <Link to=\"/\">Go back to the homepage</Link>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}